
 {% extends "base.html" %} {% block content %}
<link href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css" rel="stylesheet">

<div class="max-w-3xl mx-auto px-4 py-10">
  <nav class="mb-6">
    <a href="{% url 'news_list' %}" class="text-xs font-bold uppercase tracking-widest text-gray-400 hover:text-orange-500 transition-colors">
      ‚Üê Back to Community
    </a>
  </nav>

  <div class="bg-white/80 backdrop-blur-md rounded-[2rem] border border-gray-100 shadow-xl shadow-gray-200/40 p-8 md:p-10">
    <div class="flex items-center gap-3 mb-8">
      <div class="w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
      </div>
      <h1 class="text-2xl font-black text-gray-900 tracking-tight">Create a Post</h1>
    </div>

    <form method="post" class="space-y-8">
      {% csrf_token %}

      <!-- Title -->
      <div class="space-y-2">
        <label class="inline-flex items-center gap-2 text-xs font-black uppercase tracking-widest text-gray-500 ml-1">
          Headline
        </label>
        {{ form.title }}
        {% if form.title.errors %}
          <p class="text-red-500 text-xs font-bold mt-1">{{ form.title.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Content (Quill) -->
      <div class="space-y-2">
        <label class="inline-flex items-center gap-2 text-xs font-black uppercase tracking-widest text-gray-500 ml-1">
          Post Content
        </label>

        <div class="rounded-2xl overflow-hidden border border-gray-100 transition-all">
          <div id="editor" class="bg-white min-h-[200px] p-4"></div>
        </div>

        <!-- Hidden input that Django will read -->
        <input type="hidden" name="content" id="content">
      </div>

      <!-- Actions -->
      <div class="flex items-center justify-end gap-4 pt-6 border-t border-gray-50">
        <a href="{% url 'news_list' %}"
           class="px-6 py-3 rounded-xl text-sm font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-all">
          Discard
        </a>
        <button type="submit"
          class="px-8 py-3 rounded-xl text-sm font-bold bg-orange-500 hover:bg-orange-600 text-white shadow-lg shadow-orange-200 transition-all hover:-translate-y-0.5 active:scale-95">
          Publish Post
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Quill JS -->
<script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>
<script>
  const quill = new Quill('#editor', {
    theme: 'snow'
  });

  const form = document.querySelector("form");
  form.addEventListener("submit", function () {
    document.getElementById("content").value = quill.root.innerHTML;
  });
</script>
{% endblock %}
